{{- if .Values.fullVersion }}
{{- if .Values.ingress.enabled }}
kind: Ingress
apiVersion: extensions/v1beta1
metadata:
  name: maven-{{ .Release.Name }}-apidocs
  annotations:
    kubernetes.io/ingress.class: nginx-cit-insecure
    nginx.ingress.kubernetes.io/force-ssl-redirect: 'false'
    nginx.ingress.kubernetes.io/ssl-redirect: 'false'
spec:
  rules:
    - http:
        paths:
          - path: /galasadev/{{ .Release.Name}}/apidocs
            backend:
              serviceName: maven-{{ .Release.Name}}-apidocs
              servicePort: 80
{{- end }}
{{- end }}
